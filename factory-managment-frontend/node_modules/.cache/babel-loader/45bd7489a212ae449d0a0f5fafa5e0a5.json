{"ast":null,"code":"var _jsxFileName = \"/home/prabath/Documents/SLiit Projects/factory-management/factory-managment-frontend/src/pages/storeManager/sm_dashboard.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Table, Button, ButtonToolbar } from \"react-bootstrap\";\nimport \"../ProductionManager/dashboard.css\";\nimport hello from \"../assets/hello.png\";\nimport clock from \"../assets/clock.png\";\nimport Clock from \"../../components/ProductionManager/common/clock\";\nimport generatePDF from \"../../components/storeManager/utils/reportGenerator\";\nimport moment from \"moment\";\nimport swal from \"sweetalert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Dashboard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentDate: moment(new Date()).format(\"YYYY-MM-DD\"),\n      itemRecords: [],\n      numOfProducts: 0,\n      numOfMaterials: 0,\n      numOfWastedItems: 0,\n      numOfReturnedItems: 0,\n      noOfRequests: 0,\n      tickets: [{\n        id: \"1\",\n        title: \"main\",\n        request: \"myreq\",\n        status: \"ok\",\n        updated_at: \"2021-01-01\"\n      }, {\n        id: \"2\",\n        title: \"main\",\n        request: \"myreq\",\n        status: \"ok\",\n        updated_at: \"2021-01-02\"\n      }, {\n        id: \"3\",\n        title: \"main\",\n        request: \"myreq\",\n        status: \"ok\",\n        updated_at: \"2021-01-03\"\n      }, {\n        id: \"4\",\n        title: \"main\",\n        request: \"myreq\",\n        status: \"ok\",\n        updated_at: \"2021-01-04\"\n      }]\n    };\n\n    this.handleMonthlyReports = () => {\n      const {\n        currentDate\n      } = this.state;\n\n      if (currentDate.toLocaleLowerCase().endsWith(\"29\")) {\n        console.log(\"monthly\");\n      } else {\n        swal({\n          text: \"Please wait for end of the month.\",\n          icon: \"warning\",\n          timer: \"1500\"\n        });\n      }\n    };\n\n    this.handleYearlyReports = () => {\n      const {\n        currentDate\n      } = this.state;\n\n      if (currentDate.toLocaleLowerCase().endsWith(\"12-29\")) {} else {\n        swal({\n          text: \"Please wait for end of the Year.\",\n          icon: \"warning\",\n          timer: \"1500\"\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:5000/items/\").then(result => {\n      const items = result.data;\n      const materials = items.filter(item => item.iType === \"Material\");\n      const products = items.filter(item => item.iType === \"Product\");\n      const mCount = materials.length;\n      const pCount = products.length;\n      this.setState({\n        numOfProducts: pCount,\n        numOfMaterials: mCount\n      });\n    });\n    axios.get(\"http://localhost:5000/items/multiplerecords/\" + this.state.currentDate).then(result => {\n      const records = result.data;\n      this.setState({\n        itemRecords: records\n      });\n      console.log(records);\n    });\n    axios.get(\"http://localhost:5000/returned/\").then(result => {\n      const rProducts = result.data;\n      const rCount = rProducts.length;\n      this.setState({\n        numOfReturnedItems: rCount\n      });\n    });\n    axios.get(\"http://localhost:5000/wasted/\").then(result => {\n      const wItems = result.data;\n      const wCount = wItems.length;\n      this.setState({\n        numOfWastedItems: wCount\n      });\n    });\n    axios.get(\"http://localhost:5000/requests/\").then(result => {\n      const requests = result.data;\n      const reqCount = requests.length;\n      this.setState({\n        noOfRequests: reqCount\n      });\n    });\n  }\n\n  logout() {\n    localStorage.removeItem(\"user_full_name\");\n    localStorage.removeItem(\"user_email\");\n    localStorage.removeItem(\"is_login\");\n    window.location.reload();\n  }\n\n  render() {\n    const {\n      itemRecords\n    } = this.state;\n\n    let AddModelClose = () => this.setState({\n      addModalShow: false\n    });\n\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ButtonToolbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main__container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main__title\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: hello,\n              alt: \"hello\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"main__greeting\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: [\"Hello, \", this.state.user_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Welcome to your profile.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                backgroundColor: \"#7121AD\",\n                color: \"white\",\n                width: \"100px\"\n              },\n              onClick: this.logout,\n              children: \"Log Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"charts\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"charts__left\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"charts__left__title\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                    children: \"Date and Time\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-usd\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row mt-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: clock,\n                    alt: \"clock\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(Clock, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"charts__right\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"charts__right__title\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                    children: \"Report Genaration\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-usd\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"charts__right__cards\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => generatePDF(itemRecords, \"Today Recieved Stocks\"),\n                    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                      children: \"Daily Report\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 190,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => this.handleMonthlyReports(),\n                    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                      children: \"Monthly Report\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => this.handleYearlyReports(),\n                    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                      children: \"Yearly Report\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main__cards\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"carda\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card_inner\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-primary-p\",\n                  children: \"Number Of Items\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold text-title\",\n                  children: this.state.numOfProducts\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cardd\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card_inner\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-primary-p\",\n                  children: \"No Of Material\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold text-title\",\n                  children: this.state.numOfMaterials\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cardd\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card_inner\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-primary-p\",\n                  children: \"No Of Wasted Items\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold text-title\",\n                  children: this.state.numOfWastedItems\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cardd\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card_inner\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-primary-p\",\n                  children: \"No Of Requests\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold text-title\",\n                  children: this.state.noOfRequests\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/home/prabath/Documents/SLiit Projects/factory-management/factory-managment-frontend/src/pages/storeManager/sm_dashboard.jsx"],"names":["React","Component","axios","Table","Button","ButtonToolbar","hello","clock","Clock","generatePDF","moment","swal","Dashboard","state","currentDate","Date","format","itemRecords","numOfProducts","numOfMaterials","numOfWastedItems","numOfReturnedItems","noOfRequests","tickets","id","title","request","status","updated_at","handleMonthlyReports","toLocaleLowerCase","endsWith","console","log","text","icon","timer","handleYearlyReports","componentDidMount","get","then","result","items","data","materials","filter","item","iType","products","mCount","length","pCount","setState","records","rProducts","rCount","wItems","wCount","requests","reqCount","logout","localStorage","removeItem","window","location","reload","render","AddModelClose","addModalShow","user_name","backgroundColor","color","width"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Table, Button, ButtonToolbar } from \"react-bootstrap\";\r\nimport \"../ProductionManager/dashboard.css\";\r\nimport hello from \"../assets/hello.png\";\r\nimport clock from \"../assets/clock.png\";\r\nimport Clock from \"../../components/ProductionManager/common/clock\";\r\nimport generatePDF from \"../../components/storeManager/utils/reportGenerator\";\r\nimport moment from \"moment\";\r\nimport swal from \"sweetalert\";\r\n\r\n\r\nclass Dashboard extends Component {\r\n  state = {\r\n    currentDate: moment(new Date()).format(\"YYYY-MM-DD\"),\r\n    itemRecords: [],\r\n    numOfProducts: 0,\r\n    numOfMaterials: 0,\r\n    numOfWastedItems: 0,\r\n    numOfReturnedItems: 0,\r\n    noOfRequests: 0,\r\n    tickets: [\r\n      {\r\n        id: \"1\",\r\n        title: \"main\",\r\n        request: \"myreq\",\r\n        status: \"ok\",\r\n        updated_at: \"2021-01-01\",\r\n      },\r\n      {\r\n        id: \"2\",\r\n        title: \"main\",\r\n        request: \"myreq\",\r\n        status: \"ok\",\r\n        updated_at: \"2021-01-02\",\r\n      },\r\n      {\r\n        id: \"3\",\r\n        title: \"main\",\r\n        request: \"myreq\",\r\n        status: \"ok\",\r\n        updated_at: \"2021-01-03\",\r\n      },\r\n      {\r\n        id: \"4\",\r\n        title: \"main\",\r\n        request: \"myreq\",\r\n        status: \"ok\",\r\n        updated_at: \"2021-01-04\",\r\n      },\r\n    ],\r\n  };\r\n\r\n  componentDidMount() {\r\n    axios.get(\"http://localhost:5000/items/\").then((result) => {\r\n      const items = result.data;\r\n\r\n      const materials = items.filter((item) => item.iType === \"Material\");\r\n      const products = items.filter((item) => item.iType === \"Product\");\r\n\r\n      const mCount = materials.length;\r\n      const pCount = products.length;\r\n\r\n      this.setState({ numOfProducts: pCount, numOfMaterials: mCount });\r\n    });\r\n    axios\r\n      .get(\r\n        \"http://localhost:5000/items/multiplerecords/\" + this.state.currentDate\r\n      )\r\n      .then((result) => {\r\n        const records = result.data;\r\n        this.setState({ itemRecords: records });\r\n        console.log(records);\r\n      });\r\n\r\n    axios.get(\"http://localhost:5000/returned/\").then((result) => {\r\n      const rProducts = result.data;\r\n      const rCount = rProducts.length;\r\n      this.setState({ numOfReturnedItems: rCount });\r\n    });\r\n\r\n    axios.get(\"http://localhost:5000/wasted/\").then((result) => {\r\n      const wItems = result.data;\r\n      const wCount = wItems.length;\r\n      this.setState({ numOfWastedItems: wCount });\r\n    });\r\n\r\n    axios.get(\"http://localhost:5000/requests/\").then((result) => {\r\n      const requests = result.data;\r\n      const reqCount = requests.length;\r\n\r\n      this.setState({ noOfRequests: reqCount });\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem(\"user_full_name\");\r\n    localStorage.removeItem(\"user_email\");\r\n    localStorage.removeItem(\"is_login\");\r\n    window.location.reload();\r\n  }\r\n\r\n  handleMonthlyReports = () => {\r\n    const { currentDate } = this.state;\r\n    if (currentDate.toLocaleLowerCase().endsWith(\"29\")) {\r\n      console.log(\"monthly\");\r\n    } else {\r\n      swal({\r\n        text: \"Please wait for end of the month.\",\r\n        icon: \"warning\",\r\n        timer: \"1500\",\r\n      });\r\n    }\r\n  };\r\n\r\n  handleYearlyReports = () => {\r\n    const { currentDate } = this.state;\r\n    if (currentDate.toLocaleLowerCase().endsWith(\"12-29\")) {\r\n    } else {\r\n      swal({\r\n        text: \"Please wait for end of the Year.\",\r\n        icon: \"warning\",\r\n        timer: \"1500\",\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { itemRecords } = this.state;\r\n    let AddModelClose = () => this.setState({ addModalShow: false });\r\n    return (\r\n      <React.Fragment>\r\n        <ButtonToolbar>\r\n          {/* <AddFactoryDetailsModal\r\n                        show={this.state.addModalShow && this.state.factoryDetails.length == 0}\r\n                        onHide={AddModelClose}\r\n                    /> */}\r\n        </ButtonToolbar>\r\n        <main>\r\n          <div className=\"main__container\">\r\n            {/* <!-- MAIN TITLE STARTS HERE --> */}\r\n\r\n            <div className=\"main__title\">\r\n              <img src={hello} alt=\"hello\" />\r\n              <div className=\"main__greeting\">\r\n                <h1>Hello, {this.state.user_name}</h1>\r\n                <p>Welcome to your profile.</p>\r\n              </div>\r\n              <button\r\n                style={{\r\n                  backgroundColor: \"#7121AD\",\r\n                  color: \"white\",\r\n                  width: \"100px\",\r\n                }}\r\n                onClick={this.logout}\r\n              >\r\n                Log Out\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"charts\">\r\n              <div className=\"charts__left\">\r\n                <div className=\"charts__left__title\">\r\n                  <div>\r\n                    <h1>Date and Time</h1>\r\n                  </div>\r\n                  <i className=\"fa fa-usd\" aria-hidden=\"true\"></i>\r\n                </div>\r\n                <div className=\"row mt-5\">\r\n                  <div className=\"col-md-6\">\r\n                    <img src={clock} alt=\"clock\" />\r\n                  </div>\r\n                  <div className=\"col-md-6\">\r\n                    <Clock />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"charts__right\">\r\n                <div className=\"charts__right__title\">\r\n                  <div>\r\n                    <h1>Report Genaration</h1>\r\n                  </div>\r\n                  <i className=\"fa fa-usd\" aria-hidden=\"true\"></i>\r\n                </div>\r\n\r\n                <div className=\"charts__right__cards\">\r\n                  <div className=\"card3\">\r\n                    <button onClick={() => generatePDF(itemRecords, \"Today Recieved Stocks\")}>\r\n                      <h1>Daily Report</h1>\r\n                    </button>\r\n                    <button onClick={() => this.handleMonthlyReports()}>\r\n                      <h1>Monthly Report</h1>\r\n                    </button>\r\n                    <button onClick={() => this.handleYearlyReports()}>\r\n                      <h1>Yearly Report</h1>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* <!-- MAIN TITLE ENDS HERE --> */}\r\n\r\n            {/* <!-- MAIN CARDS STARTS HERE --> */}\r\n            <div className=\"main__cards\">\r\n              <div className=\"carda\">\r\n                <div className=\"card_inner\">\r\n                  <p className=\"text-primary-p\">Number Of Items</p>\r\n                  <span className=\"font-bold text-title\">\r\n                    {this.state.numOfProducts}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"cardd\">\r\n                <div className=\"card_inner\">\r\n                  <p className=\"text-primary-p\">No Of Material</p>\r\n                  <span className=\"font-bold text-title\">\r\n                    {this.state.numOfMaterials}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"cardd\">\r\n                <div className=\"card_inner\">\r\n                  <p className=\"text-primary-p\">No Of Wasted Items</p>\r\n                  <span className=\"font-bold text-title\">\r\n                    {this.state.numOfWastedItems}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"cardd\">\r\n                <div className=\"card_inner\">\r\n                  <p className=\"text-primary-p\">No Of Requests</p>\r\n                  <span className=\"font-bold text-title\">\r\n                    {this.state.noOfRequests}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* <!-- MAIN CARDS ENDS HERE --> */}\r\n\r\n            {/* <!-- CHARTS STARTS HERE --> */}\r\n\r\n            {/* <!-- CHARTS ENDS HERE --> */}\r\n          </div>\r\n        </main>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}