{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thero\\\\OneDrive\\\\Documents\\\\factory-management\\\\factory-management\\\\factory-managment-frontend\\\\src\\\\pages\\\\FinanceTeamMember\\\\Dashboard.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Table, Button, ButtonToolbar } from 'react-bootstrap';\nimport Chart from \"../charts/chart\";\nimport \"./dashboard.css\";\nimport hello from \"../assets/hello.png\";\nimport clock from \"../assets/clock.png\";\nimport { AddFactoryDetailsModal } from '../../components/SuperAdmin/Modals/AddFactoryDetailsModal';\nimport Clock from \"./clock\";\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      factoryDetails: [],\n      matBill: [],\n      bills: [],\n      billtype: [],\n      users: [],\n      user_name: '',\n      addModalShow: true\n    }; // this.genarateMatCost = this.genarateMatCost.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:5000/api/factory-details\").then(result => {\n      const factoryDetails = result.data;\n      this.setState({\n        factoryDetails: factoryDetails\n      });\n    }).catch(err => console.log(err.message));\n    const user_name = localStorage.getItem(\"user_full_name\");\n    this.setState({\n      user_name: user_name\n    });\n    axios.get(\"http://localhost:5000/api/material-cost\").then(result => {\n      const matBill = result.data;\n      this.setState({\n        matBill: matBill\n      });\n    }).catch(err => console.log(err.message));\n    axios.get(\"http://localhost:5000/api/bills\").then(result => {\n      const bills = result.data;\n      this.setState({\n        bills: bills\n      });\n    }).catch(err => console.log(err.message));\n    axios.get(\"http://localhost:5000/api/bill-type\").then(result => {\n      const billtype = result.data;\n      this.setState({\n        billtype: billtype\n      });\n    }).catch(err => console.log(err.message));\n  }\n\n  logout() {\n    localStorage.removeItem('user_full_name');\n    localStorage.removeItem('user_email');\n    localStorage.removeItem('is_login');\n    window.location.reload();\n  }\n\n  genarateMatCost() {\n    const doc = new jsPDF();\n    const tableColumn = [\"matirial Code\", \"matirial BillNo\", \"date\", \"amount\"];\n    const tableRows = [];\n    axios.get(\"http://localhost:5000/api/material-cost/\").then(result => {\n      const matCost = result.data;\n      matCost.forEach(ticket => {\n        const ticketData = [ticket.matirialCode, ticket.matirialBillNo, ticket.date, ticket.amount // called date-fns to format the date on the ticket\n        //   format(new Date(), \"yyyy-MM-dd\")\n        ]; // push each tickcet's info into a row\n\n        tableRows.push(ticketData);\n      }); // startY is basically margin-top\n\n      doc.autoTable(tableColumn, tableRows, {\n        startY: 20\n      });\n      const date = Date().split(\" \"); // we use a date string to generate our filename.\n      // ticket title. and margin-top + margin-left\n\n      doc.text(\"Material Cost Report \", 14, 15); // we define the name of our PDF file.\n\n      doc.save(`report_cost_finance.pdf`);\n    }).catch(err => console.log(err.message));\n  }\n\n  genarateSalaries() {\n    const doc = new jsPDF();\n    const tableColumn = [\"EmpNo\", \"Amount\", \"mounth\"];\n    const tableRows = [];\n    axios.get(\"http://localhost:5000/api/material-cost/\").then(result => {\n      const matCost = result.data;\n      matCost.forEach(ticket => {\n        const ticketData = [ticket.empID, ticket.amount, ticket.month // called date-fns to format the date on the ticket\n        //   format(new Date(), \"yyyy-MM-dd\")\n        ]; // push each tickcet's info into a row\n\n        tableRows.push(ticketData);\n      }); // startY is basically margin-top\n\n      doc.autoTable(tableColumn, tableRows, {\n        startY: 20\n      });\n      const date = Date().split(\" \"); // we use a date string to generate our filename.\n      // ticket title. and margin-top + margin-left\n\n      doc.text(\"All Salaries Report \", 14, 15); // we define the name of our PDF file.\n\n      doc.save(`report_salaries_finance.pdf`);\n    }).catch(err => console.log(err.message));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"main\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main__container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main__title\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: hello,\n              alt: \"hello\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"main__greeting\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: [\"Hello, \", this.state.user_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Welcome to your profile.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                backgroundColor: \"#7121AD\",\n                color: \"white\",\n                width: \"100px\"\n              },\n              onClick: this.logout,\n              children: \"Log Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"charts\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"charts__left\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"charts__left__title\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                    children: \"Date and Time\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-usd\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row mt-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: clock,\n                    alt: \"clock\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(Clock, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"charts__right\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"charts__right__title\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                    children: \"Report Genaration\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-usd\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"charts__right__cards\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card2\",\n                  children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                    onClick: () => this.genarateMatCost(),\n                    children: \"Material Cost Report\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card3\",\n                  children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                    onClick: () => this.genarateSalaries(),\n                    children: \"All Salaries Report\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main__cards\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"carda\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card_inner\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-primary-p\",\n                  children: \"Number of Material Bills\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold text-title\",\n                  children: this.state.matBill.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cardd\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card_inner\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-primary-p\",\n                  children: \"No of Bills\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold text-title\",\n                  children: this.state.bills.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"carda\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card_inner\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-primary-p\",\n                  children: \"Number of Bill Types\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-bold text-title\",\n                  children: this.state.billtype.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\n;\nexport default Dashboard;","map":{"version":3,"sources":["C:/Users/thero/OneDrive/Documents/factory-management/factory-management/factory-managment-frontend/src/pages/FinanceTeamMember/Dashboard.jsx"],"names":["React","Component","axios","Table","Button","ButtonToolbar","Chart","hello","clock","AddFactoryDetailsModal","Clock","jsPDF","Dashboard","constructor","props","state","factoryDetails","matBill","bills","billtype","users","user_name","addModalShow","componentDidMount","get","then","result","data","setState","catch","err","console","log","message","localStorage","getItem","logout","removeItem","window","location","reload","genarateMatCost","doc","tableColumn","tableRows","matCost","forEach","ticket","ticketData","matirialCode","matirialBillNo","date","amount","push","autoTable","startY","Date","split","text","save","genarateSalaries","empID","month","render","backgroundColor","color","width","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Table, Button, ButtonToolbar } from 'react-bootstrap';\r\nimport Chart from \"../charts/chart\";\r\nimport \"./dashboard.css\";\r\nimport hello from \"../assets/hello.png\";\r\nimport clock from \"../assets/clock.png\";\r\nimport { AddFactoryDetailsModal } from '../../components/SuperAdmin/Modals/AddFactoryDetailsModal';\r\nimport Clock from \"./clock\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\n   \r\nclass Dashboard extends Component {  \r\n  constructor(props) { \r\n    super(props);\r\n    this.state = {\r\n      factoryDetails: [],\r\n      matBill:[],\r\n      bills:[],\r\n      billtype:[],\r\n      users:[],\r\n      user_name:'',\r\n      addModalShow: true\r\n      \r\n    };\r\n    // this.genarateMatCost = this.genarateMatCost.bind(this);\r\n}\r\n  \r\n  \r\n\r\n  componentDidMount() {\r\n    axios\r\n    .get(\"http://localhost:5000/api/factory-details\")\r\n    .then((result) => {\r\n      const factoryDetails = result.data;\r\n\r\n      this.setState({ factoryDetails: factoryDetails });\r\n    })\r\n    .catch((err) => console.log(err.message));\r\n\r\n    const user_name = localStorage.getItem(\"user_full_name\");\r\n    this.setState({ user_name: user_name });\r\n    \r\n    axios\r\n    .get(\"http://localhost:5000/api/material-cost\")\r\n    .then((result) => {\r\n      const matBill = result.data;\r\n\r\n      this.setState({ matBill: matBill });\r\n    })\r\n    .catch((err) => console.log(err.message));\r\n\r\n    axios\r\n    .get(\"http://localhost:5000/api/bills\")\r\n    .then((result) => {\r\n      const bills = result.data;\r\n\r\n      this.setState({ bills: bills });\r\n    })\r\n    .catch((err) => console.log(err.message));\r\n   \r\n    axios\r\n    .get(\"http://localhost:5000/api/bill-type\")\r\n    .then((result) => {\r\n      const billtype = result.data;\r\n\r\n      this.setState({ billtype: billtype });\r\n    })\r\n    .catch((err) => console.log(err.message));\r\n\r\n  }\r\n\r\n   \r\n  logout(){\r\n    localStorage.removeItem('user_full_name');\r\n    localStorage.removeItem('user_email');\r\n    localStorage.removeItem('is_login');\r\n    window.location.reload();\r\n  }\r\n  genarateMatCost(){\r\n    const doc = new jsPDF();\r\n    const tableColumn = [ \"matirial Code\", \"matirial BillNo\", \"date\", \"amount\"];\r\n    const tableRows = [];\r\n    axios\r\n    .get(\"http://localhost:5000/api/material-cost/\")\r\n    .then((result) => {\r\n      const matCost = result.data;\r\n            matCost.forEach(ticket => {\r\n              const ticketData = [\r\n                ticket.matirialCode,\r\n                ticket.matirialBillNo,\r\n                ticket.date,\r\n                ticket.amount,\r\n                // called date-fns to format the date on the ticket\r\n              //   format(new Date(), \"yyyy-MM-dd\")\r\n              ];\r\n              // push each tickcet's info into a row\r\n              tableRows.push(ticketData);\r\n              \r\n            });\r\n            // startY is basically margin-top\r\n            doc.autoTable(tableColumn, tableRows, { startY: 20 });\r\n            const date = Date().split(\" \");\r\n            // we use a date string to generate our filename.\r\n            \r\n            // ticket title. and margin-top + margin-left\r\n            doc.text(\"Material Cost Report \", 14, 15);\r\n            // we define the name of our PDF file.\r\n            doc.save(`report_cost_finance.pdf`);\r\n    })\r\n    .catch((err) => console.log(err.message));\r\n  }\r\n\r\n  genarateSalaries(){\r\n    const doc = new jsPDF();\r\n    const tableColumn = [ \"EmpNo\", \"Amount\", \"mounth\"];\r\n    const tableRows = [];\r\n    axios\r\n    .get(\"http://localhost:5000/api/material-cost/\")\r\n    .then((result) => {\r\n      const matCost = result.data;\r\n            matCost.forEach(ticket => {\r\n              const ticketData = [\r\n                ticket.empID,\r\n                ticket.amount,\r\n                ticket.month\r\n                // called date-fns to format the date on the ticket\r\n              //   format(new Date(), \"yyyy-MM-dd\")\r\n              ];\r\n              // push each tickcet's info into a row\r\n              tableRows.push(ticketData);\r\n              \r\n            });\r\n            // startY is basically margin-top\r\n            doc.autoTable(tableColumn, tableRows, { startY: 20 });\r\n            const date = Date().split(\" \");\r\n            // we use a date string to generate our filename.\r\n            \r\n            // ticket title. and margin-top + margin-left\r\n            doc.text(\"All Salaries Report \", 14, 15);\r\n            // we define the name of our PDF file.\r\n            doc.save(`report_salaries_finance.pdf`);\r\n    })\r\n    .catch((err) => console.log(err.message));\r\n  }\r\n \r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n          <main>\r\n            <div className=\"main__container\">\r\n              {/* <!-- MAIN TITLE STARTS HERE --> */}\r\n\r\n              <div className=\"main__title\">\r\n              <img src={hello} alt=\"hello\" />\r\n                <div className=\"main__greeting\">\r\n                  <h1>Hello, {this.state.user_name}</h1>\r\n                  <p>Welcome to your profile.</p>\r\n                </div>\r\n                <button style={{ backgroundColor: \"#7121AD\", color: \"white\" ,width:\"100px\"}} onClick={this.logout}>Log Out</button>\r\n              </div>\r\n\r\n              <div className=\"charts\">\r\n                <div className=\"charts__left\">\r\n                  <div className=\"charts__left__title\">\r\n                    <div>\r\n                      <h1>Date and Time</h1>\r\n                    </div>\r\n                    <i className=\"fa fa-usd\" aria-hidden=\"true\"></i>\r\n                  </div>\r\n                  <div className=\"row mt-5\">\r\n                    <div className=\"col-md-6\">\r\n                      <img src={clock} alt=\"clock\" />\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <Clock />\r\n                    </div>\r\n                  </div>\r\n                 \r\n                </div>\r\n\r\n                <div className=\"charts__right\">\r\n                  <div className=\"charts__right__title\">\r\n                    <div>\r\n                      <h1>Report Genaration</h1>\r\n                    </div>\r\n                    <i className=\"fa fa-usd\" aria-hidden=\"true\"></i>\r\n                  </div>\r\n\r\n                  <div className=\"charts__right__cards\">\r\n                 \r\n                      <div className=\"card2\" >\r\n                      <h1 onClick={() => this.genarateMatCost()}>Material Cost Report</h1>\r\n                  </div>\r\n                     \r\n                     \r\n                        <div className=\"card3\" >\r\n                        <h1 onClick={() => this.genarateSalaries()}>All Salaries Report</h1>\r\n                        </div>\r\n                       \r\n                  \r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* <!-- MAIN TITLE ENDS HERE --> */}\r\n\r\n              {/* <!-- MAIN CARDS STARTS HERE --> */}\r\n              <div className=\"main__cards\">\r\n\r\n                \r\n                <div className=\"carda\">\r\n                  <div className=\"card_inner\">\r\n                    <p className=\"text-primary-p\">Number of Material Bills</p>\r\n                    <span className=\"font-bold text-title\">{this.state.matBill.length}</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"cardd\">\r\n                  <div className=\"card_inner\">\r\n                    <p className=\"text-primary-p\">No of Bills</p>\r\n                    <span className=\"font-bold text-title\">{this.state.bills.length}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"carda\">\r\n                  <div className=\"card_inner\">\r\n                    <p className=\"text-primary-p\">Number of Bill Types</p>\r\n                    <span className=\"font-bold text-title\">{this.state.billtype.length}</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* <div className=\"cardd\">\r\n                  <div className=\"card_inner\">\r\n                    <p className=\"text-primary-p\">No of Metirial Codes</p>\r\n                    <span className=\"font-bold text-title\">{this.state.matCode.length}</span>\r\n                  </div>\r\n                </div> */}\r\n              </div>\r\n              {/* <!-- MAIN CARDS ENDS HERE --> */}\r\n\r\n              {/* <!-- CHARTS STARTS HERE --> */}\r\n              \r\n              {/* <!-- CHARTS ENDS HERE --> */}\r\n            </div>\r\n          </main>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Dashboard;\r\n"]},"metadata":{},"sourceType":"module"}