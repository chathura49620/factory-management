{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thero\\\\OneDrive\\\\Documents\\\\factory-management\\\\factory-management\\\\factory-managment-frontend\\\\src\\\\components\\\\storeManager\\\\forms\\\\newWastedItemForm.jsx\";\nimport React, { Component } from \"react\";\nimport FormSuper from \"../reusables/formsuper\";\nimport Joi, { join } from \"joi-browser\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport TextArea from \"../reusables/textarea\";\nimport moment from \"moment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass NewWastedItemForm extends FormSuper {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        _id: \"\",\n        Code: \"\",\n        Type: \"\",\n        Category: \"\",\n        Quantity: \"\",\n        Supplier: \"\",\n        WastedDate: \"\",\n        Reason: \"\"\n      },\n      errors: {}\n    };\n    this.schema = {\n      _id: Joi.string(),\n      Code: Joi.string(),\n      Type: Joi.string(),\n      Category: Joi.string(),\n      Quantity: Joi.number(),\n      Supplier: Joi.string(),\n      WastedDate: Joi.date(),\n      Reason: Joi.string().required()\n    };\n  }\n\n  componentDidMount() {\n    const wastedDate = moment(new Date()).format(\"YYYY-MM-DD\");\n    const wOb = {\n      _id: this.props.wastedOb._id,\n      Code: this.props.wastedOb.iCode,\n      Type: this.props.wastedOb.iType,\n      Category: this.props.wastedOb.iCategory,\n      Quantity: this.props.wastedOb.iQuantity,\n      Supplier: this.props.wastedOb.iSupplier,\n      WastedDate: wastedDate,\n      Reason: \"\"\n    };\n    this.setState({\n      data: wOb\n    });\n    console.log(wOb);\n  }\n\n  doSubmit() {\n    // console.log(\"submitted\", this.state.data);\n    const jsonOb = this.state.data;\n    console.log(jsonOb);\n    axios.post(\"http://localhost:5000/wasted/add\", jsonOb).then(result => console.log(result.data)); // axios\n    //   .post(\"http://localhost:5000/items/add\", jsonOb)\n    //   .then((result) => console.log(result.data));\n\n    swal({\n      text: \"Wasted Item added successfully.\",\n      icon: \"success\",\n      timer: \"1500\"\n    });\n    this.props.onClose(jsonOb);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [this.renderTextArea(\"Reason\", \"Reason For Drop\"), this.renderButton(\"Add Item\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default NewWastedItemForm;","map":{"version":3,"sources":["C:/Users/thero/OneDrive/Documents/factory-management/factory-management/factory-managment-frontend/src/components/storeManager/forms/newWastedItemForm.jsx"],"names":["React","Component","FormSuper","Joi","join","axios","swal","TextArea","moment","NewWastedItemForm","state","data","_id","Code","Type","Category","Quantity","Supplier","WastedDate","Reason","errors","schema","string","number","date","required","componentDidMount","wastedDate","Date","format","wOb","props","wastedOb","iCode","iType","iCategory","iQuantity","iSupplier","setState","console","log","doSubmit","jsonOb","post","then","result","text","icon","timer","onClose","render","handleSubmit","renderTextArea","renderButton"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport FormSuper from \"../reusables/formsuper\";\r\nimport Joi, { join } from \"joi-browser\";\r\nimport axios from \"axios\";\r\nimport swal from \"sweetalert\";\r\nimport TextArea from \"../reusables/textarea\";\r\nimport moment from \"moment\";\r\n\r\nclass NewWastedItemForm extends FormSuper {\r\n  state = {\r\n    data: {\r\n      _id: \"\",\r\n      Code: \"\",\r\n      Type: \"\",\r\n      Category: \"\",\r\n      Quantity: \"\",\r\n      Supplier: \"\",\r\n      WastedDate: \"\",\r\n      Reason: \"\",\r\n    },\r\n    errors: {},\r\n  };\r\n\r\n  schema = {\r\n    _id: Joi.string(),\r\n    Code: Joi.string(),\r\n    Type: Joi.string(),\r\n    Category: Joi.string(),\r\n    Quantity: Joi.number(),\r\n    Supplier: Joi.string(),\r\n    WastedDate: Joi.date(),\r\n    Reason: Joi.string().required(),\r\n  };\r\n\r\n  componentDidMount() {\r\n    const wastedDate = moment(new Date()).format(\"YYYY-MM-DD\");\r\n\r\n    const wOb = {\r\n      _id: this.props.wastedOb._id,\r\n      Code: this.props.wastedOb.iCode,\r\n      Type: this.props.wastedOb.iType,\r\n      Category: this.props.wastedOb.iCategory,\r\n      Quantity: this.props.wastedOb.iQuantity,\r\n      Supplier: this.props.wastedOb.iSupplier,\r\n      WastedDate: wastedDate,\r\n      Reason: \"\",\r\n    };\r\n\r\n    this.setState({ data: wOb });\r\n    console.log(wOb);\r\n  }\r\n\r\n  doSubmit() {\r\n    // console.log(\"submitted\", this.state.data);\r\n    const jsonOb = this.state.data;\r\n    console.log(jsonOb);\r\n\r\n    axios\r\n      .post(\"http://localhost:5000/wasted/add\", jsonOb)\r\n      .then((result) => console.log(result.data));\r\n    // axios\r\n    //   .post(\"http://localhost:5000/items/add\", jsonOb)\r\n    //   .then((result) => console.log(result.data));\r\n\r\n    swal({\r\n      text: \"Wasted Item added successfully.\",\r\n      icon: \"success\",\r\n      timer: \"1500\",\r\n    });\r\n\r\n    this.props.onClose(jsonOb);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <form onSubmit={this.handleSubmit}>\r\n          {this.renderTextArea(\"Reason\", \"Reason For Drop\")}\r\n\r\n          {this.renderButton(\"Add Item\")}\r\n        </form>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewWastedItemForm;\r\n"]},"metadata":{},"sourceType":"module"}