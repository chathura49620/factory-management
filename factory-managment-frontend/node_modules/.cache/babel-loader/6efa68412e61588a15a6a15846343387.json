{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thero\\\\OneDrive\\\\Documents\\\\factory-management\\\\factory-management\\\\factory-managment-frontend\\\\src\\\\pages\\\\Employee\\\\LeaveList.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Table from 'react-bootstrap/Table';\nimport { InputGroup, FormControl, Button } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faStepBackward, faFastBackward, faStepForward, faFastForward, faListAlt } from '@fortawesome/free-solid-svg-icons';\nimport { Link } from 'react-router-dom';\nimport '../../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class LeaveList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changePage = event => {\n      this.setState({\n        [event.target.name]: parseInt(event.target.value)\n      });\n    };\n\n    this.firstPage = () => {\n      if (this.state.currentPage > 1) {\n        this.setState({\n          currentPage: 1\n        });\n      }\n    };\n\n    this.prevPage = () => {\n      if (this.state.currentPage > 1) {\n        this.setState({\n          currentPage: this.state.currentPage - 1\n        });\n      }\n    };\n\n    this.lastPage = () => {\n      if (this.state.currentPage < Math.ceil(this.state.leavedetails.length / this.state.recordsPerPage)) {\n        this.setState({\n          currentPage: Math.ceil(this.state.leavedetails.length / this.state.recordsPerPage)\n        });\n      }\n    };\n\n    this.nextPage = () => {\n      if (this.state.currentPage < Math.ceil(this.state.leavedetails.length / this.state.recordsPerPage)) {\n        this.setState({\n          currentPage: this.state.currentPage + 1\n        });\n      }\n    };\n\n    this.state = {\n      leavedetails: [],\n      currentPage: 1,\n      recordsPerPage: 10,\n      searchResults: []\n    };\n    this.searchRecords = this.searchRecords.bind(this);\n  }\n\n  componentDidMount() {\n    this.findAllLeaves();\n  }\n\n  findAllLeaves() {\n    axios.get('http://localhost:5000/api/leave-details').then(res => res.data).then(data => {\n      this.setState({\n        leavedetails: data\n      });\n    });\n  }\n\n  searchRecords(e) {\n    let item = e.target.value;\n    var itemArray = [];\n\n    if (item.length >= 0) {\n      axios.get('http://localhost:5000/api/leave-details').then(response => response.data).then(data => {\n        this.setState({\n          searchResults: data\n        });\n      });\n\n      if (this.state.searchResults) {\n        this.state.searchResults.filter(function (row) {\n          var startElm, endElm, midElm;\n          let newRow = Object.assign({}, row);\n\n          if (newRow) {\n            var index = newRow.refno.toUpperCase().search(item.toUpperCase());\n\n            if (index > -1) {\n              if (index == 0) {\n                startElm = \"\";\n                midElm = newRow.refno.slice(index, index + item.length);\n                endElm = newRow.refno.slice(index + item.length);\n              } else {\n                startElm = newRow.refno.slice(0, index + item.length);\n                midElm = newRow.refno.slice(index, index + item.length);\n                endElm = newRow.refno.slice(index + item.length);\n              }\n\n              newRow.refno = /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [startElm, /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    backgroundColor: \"#17A2B8\"\n                  },\n                  children: midElm\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 57\n                }, this), endElm]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 44\n              }, this);\n              itemArray.push(newRow);\n            }\n          }\n        });\n        this.setState({\n          leavedetails: itemArray\n        });\n      }\n    }\n  }\n\n  render() {\n    const {\n      leavedetails,\n      currentPage,\n      recordsPerPage\n    } = this.state;\n    const lastIndex = currentPage * recordsPerPage;\n    const firstIndex = lastIndex - recordsPerPage;\n    const currentRecords = leavedetails.slice(firstIndex, lastIndex);\n    const totalPages = leavedetails.length / recordsPerPage;\n    const totalRecords = leavedetails.length;\n    const selectedPageCss = {\n      width: \"45px\",\n      border: \"1px solid #FFFFFF\",\n      color: \"#FFFFFF\",\n      textAlign: \"center\",\n      fontWeight: \"bold\"\n    };\n    const pageCountLabelCss = {\n      float: \"left\",\n      width: \"250px\",\n      border: \"1px solid #FFFFFF\",\n      color: \"#FFFFFF\",\n      textAlign: \"center\",\n      fontWeight: \"bold\",\n      padding: \"10px 10px\",\n      background: \"#17A2B8\",\n      borderRadius: \"7px\"\n    };\n    const recordCountLabelCss = {\n      margin: \"0 auto\",\n      width: \"200px\",\n      border: \"1px solid #FFFFFF\",\n      color: \"#FFFFFF\",\n      textAlign: \"center\",\n      fontWeight: \"bold\",\n      padding: \"10px 10px\",\n      background: \"#17A2B8\",\n      borderRadius: \"7px\"\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"leave\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"card text-light  bg-dark  mb-3\",\n        style: {\n          marginLeft: 8.5 + 'rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faListAlt\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 29\n            }, this), \" Leave List\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              \"float\": \"right\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"search\",\n              id: \"search\",\n              style: {\n                \"borderRadius\": \"7px\",\n                \"borderColor\": \"#17A2B8\",\n                \"borderWidth\": \"medium\",\n                \"padding\": \"5px\"\n              },\n              name: \"\",\n              placeholder: \"Search....\",\n              onChange: this.searchRecords\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-wrapper \",\n            children: /*#__PURE__*/_jsxDEV(Table, {\n              striped: true,\n              border: true,\n              hover: true,\n              variant: \"dark\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Ref no\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Reason for Leave\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: leavedetails.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"6\",\n                    children: \"No Leaves Available\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 66\n                }, this) : currentRecords.map((leave, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: leave.refno\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: leave.reasonforleave\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: leave.date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      className: \"btn btn-primary\",\n                      to: `/EditLeave/${leave._id}`,\n                      children: \"View\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 49\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 45\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: pageCountLabelCss,\n            children: [\"Showing Page \", currentPage, \" of \", totalPages]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: recordCountLabelCss,\n            children: [\"Total Records : \", totalRecords]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              \"float\": \"right\"\n            },\n            children: /*#__PURE__*/_jsxDEV(InputGroup, {\n              size: \"sm\",\n              children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  type: \"button\",\n                  variant: \"outline-info\",\n                  disabled: currentPage === 1 ? true : false,\n                  onClick: this.firstPage,\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faFastBackward\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 41\n                  }, this), \" First\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"button\",\n                  variant: \"outline-info\",\n                  disabled: currentPage === 1 ? true : false,\n                  onClick: this.prevPage,\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faStepBackward\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 41\n                  }, this), \" Prev\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                style: selectedPageCss,\n                className: \"bg-primary\",\n                name: \"currentPage\",\n                value: currentPage,\n                onChange: this.changePage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(InputGroup.Append, {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  type: \"button\",\n                  variant: \"outline-info\",\n                  disabled: currentPage === totalPages ? true : false,\n                  onClick: this.nextPage,\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faStepForward\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 41\n                  }, this), \" Next\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"button\",\n                  variant: \"outline-info\",\n                  disabled: currentPage === totalPages ? true : false,\n                  onClick: this.lastPage,\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faFastForward\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 41\n                  }, this), \" Last\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/thero/OneDrive/Documents/factory-management/factory-management/factory-managment-frontend/src/pages/Employee/LeaveList.jsx"],"names":["React","Component","axios","Table","InputGroup","FormControl","Button","FontAwesomeIcon","faStepBackward","faFastBackward","faStepForward","faFastForward","faListAlt","Link","LeaveList","constructor","props","changePage","event","setState","target","name","parseInt","value","firstPage","state","currentPage","prevPage","lastPage","Math","ceil","leavedetails","length","recordsPerPage","nextPage","searchResults","searchRecords","bind","componentDidMount","findAllLeaves","get","then","res","data","e","item","itemArray","response","filter","row","startElm","endElm","midElm","newRow","Object","assign","index","refno","toUpperCase","search","slice","backgroundColor","push","render","lastIndex","firstIndex","currentRecords","totalPages","totalRecords","selectedPageCss","width","border","color","textAlign","fontWeight","pageCountLabelCss","float","padding","background","borderRadius","recordCountLabelCss","margin","marginLeft","map","leave","reasonforleave","date","_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,MAAlC,QAAgD,iBAAhD;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,cAAT,EAAyBC,cAAzB,EAAyCC,aAAzC,EAAwDC,aAAxD,EAAuEC,SAAvE,QAAwF,mCAAxF;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,eAAP;;AAGA,eAAe,MAAMC,SAAN,SAAwBb,SAAxB,CAAkC;AAE7Cc,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAwBnBC,UAxBmB,GAwBNC,KAAK,IAAI;AAClB,WAAKC,QAAL,CAAc;AACV,SAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAqBC,QAAQ,CAACJ,KAAK,CAACE,MAAN,CAAaG,KAAd;AADnB,OAAd;AAGH,KA5BkB;;AAAA,SA6BnBC,SA7BmB,GA6BP,MAAM;AACd,UAAI,KAAKC,KAAL,CAAWC,WAAX,GAAyB,CAA7B,EAAgC;AAC5B,aAAKP,QAAL,CAAc;AACVO,UAAAA,WAAW,EAAE;AADH,SAAd;AAGH;AACJ,KAnCkB;;AAAA,SAoCnBC,QApCmB,GAoCR,MAAM;AACb,UAAI,KAAKF,KAAL,CAAWC,WAAX,GAAyB,CAA7B,EAAgC;AAC5B,aAAKP,QAAL,CAAc;AACVO,UAAAA,WAAW,EAAE,KAAKD,KAAL,CAAWC,WAAX,GAAyB;AAD5B,SAAd;AAGH;AACJ,KA1CkB;;AAAA,SA2CnBE,QA3CmB,GA2CR,MAAM;AACb,UAAI,KAAKH,KAAL,CAAWC,WAAX,GAAyBG,IAAI,CAACC,IAAL,CAAU,KAAKL,KAAL,CAAWM,YAAX,CAAwBC,MAAxB,GAAiC,KAAKP,KAAL,CAAWQ,cAAtD,CAA7B,EAAoG;AAChG,aAAKd,QAAL,CAAc;AACVO,UAAAA,WAAW,EAAEG,IAAI,CAACC,IAAL,CAAU,KAAKL,KAAL,CAAWM,YAAX,CAAwBC,MAAxB,GAAiC,KAAKP,KAAL,CAAWQ,cAAtD;AADH,SAAd;AAGH;AACJ,KAjDkB;;AAAA,SAkDnBC,QAlDmB,GAkDR,MAAM;AACb,UAAI,KAAKT,KAAL,CAAWC,WAAX,GAAyBG,IAAI,CAACC,IAAL,CAAU,KAAKL,KAAL,CAAWM,YAAX,CAAwBC,MAAxB,GAAiC,KAAKP,KAAL,CAAWQ,cAAtD,CAA7B,EAAoG;AAChG,aAAKd,QAAL,CAAc;AACVO,UAAAA,WAAW,EAAE,KAAKD,KAAL,CAAWC,WAAX,GAAyB;AAD5B,SAAd;AAGH;AACJ,KAxDkB;;AAEf,SAAKD,KAAL,GAAa;AACTM,MAAAA,YAAY,EAAE,EADL;AAETL,MAAAA,WAAW,EAAE,CAFJ;AAGTO,MAAAA,cAAc,EAAE,EAHP;AAITE,MAAAA,aAAa,EAAE;AAJN,KAAb;AAMA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,aAAL;AACH;;AACDA,EAAAA,aAAa,GAAG;AACZrC,IAAAA,KAAK,CAACsC,GAAN,CAAU,yCAAV,EACKC,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IADrB,EAEKF,IAFL,CAEWE,IAAD,IAAU;AACZ,WAAKxB,QAAL,CAAc;AACVY,QAAAA,YAAY,EAAEY;AADJ,OAAd;AAGH,KANL;AAOH;;AAmCDP,EAAAA,aAAa,CAACQ,CAAD,EAAI;AACb,QAAIC,IAAI,GAAGD,CAAC,CAACxB,MAAF,CAASG,KAApB;AACA,QAAIuB,SAAS,GAAG,EAAhB;;AACA,QAAID,IAAI,CAACb,MAAL,IAAe,CAAnB,EAAsB;AAClB9B,MAAAA,KAAK,CAACsC,GAAN,CAAU,yCAAV,EACKC,IADL,CACUM,QAAQ,IAAIA,QAAQ,CAACJ,IAD/B,EAEKF,IAFL,CAEWE,IAAD,IAAU;AACZ,aAAKxB,QAAL,CAAc;AAAEgB,UAAAA,aAAa,EAAEQ;AAAjB,SAAd;AACH,OAJL;;AAKA,UAAI,KAAKlB,KAAL,CAAWU,aAAf,EAA8B;AAC1B,aAAKV,KAAL,CAAWU,aAAX,CAAyBa,MAAzB,CAAgC,UAAUC,GAAV,EAAe;AAC3C,cAAIC,QAAJ,EAAcC,MAAd,EAAsBC,MAAtB;AACA,cAAIC,MAAM,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBN,GAAlB,CAAb;;AACA,cAAII,MAAJ,EAAY;AAER,gBAAIG,KAAK,GAAGH,MAAM,CAACI,KAAP,CAAaC,WAAb,GAA2BC,MAA3B,CAAkCd,IAAI,CAACa,WAAL,EAAlC,CAAZ;;AACA,gBAAIF,KAAK,GAAG,CAAC,CAAb,EAAgB;AACZ,kBAAIA,KAAK,IAAI,CAAb,EAAgB;AACZN,gBAAAA,QAAQ,GAAG,EAAX;AACAE,gBAAAA,MAAM,GAAGC,MAAM,CAACI,KAAP,CAAaG,KAAb,CAAmBJ,KAAnB,EAA0BA,KAAK,GAAGX,IAAI,CAACb,MAAvC,CAAT;AACAmB,gBAAAA,MAAM,GAAGE,MAAM,CAACI,KAAP,CAAaG,KAAb,CAAmBJ,KAAK,GAAGX,IAAI,CAACb,MAAhC,CAAT;AACH,eAJD,MAIO;AACHkB,gBAAAA,QAAQ,GAAGG,MAAM,CAACI,KAAP,CAAaG,KAAb,CAAmB,CAAnB,EAAsBJ,KAAK,GAAGX,IAAI,CAACb,MAAnC,CAAX;AACAoB,gBAAAA,MAAM,GAAGC,MAAM,CAACI,KAAP,CAAaG,KAAb,CAAmBJ,KAAnB,EAA0BA,KAAK,GAAGX,IAAI,CAACb,MAAvC,CAAT;AACAmB,gBAAAA,MAAM,GAAGE,MAAM,CAACI,KAAP,CAAaG,KAAb,CAAmBJ,KAAK,GAAGX,IAAI,CAACb,MAAhC,CAAT;AACH;;AACDqB,cAAAA,MAAM,CAACI,KAAP,gBAAe;AAAA,2BAAIP,QAAJ,eAAa;AAAM,kBAAA,KAAK,EAAE;AAAEW,oBAAAA,eAAe,EAAE;AAAnB,mBAAb;AAAA,4BAA8CT;AAA9C;AAAA;AAAA;AAAA;AAAA,wBAAb,EAA0ED,MAA1E;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAf;AACAL,cAAAA,SAAS,CAACgB,IAAV,CAAeT,MAAf;AACH;AACJ;AACJ,SApBD;AAqBA,aAAKlC,QAAL,CAAc;AAAEY,UAAAA,YAAY,EAAEe;AAAhB,SAAd;AACH;AACJ;AACJ;;AAGDiB,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEhC,MAAAA,YAAF;AAAgBL,MAAAA,WAAhB;AAA6BO,MAAAA;AAA7B,QAAgD,KAAKR,KAA3D;AACA,UAAMuC,SAAS,GAAGtC,WAAW,GAAGO,cAAhC;AACA,UAAMgC,UAAU,GAAGD,SAAS,GAAG/B,cAA/B;AACA,UAAMiC,cAAc,GAAGnC,YAAY,CAAC6B,KAAb,CAAmBK,UAAnB,EAA+BD,SAA/B,CAAvB;AACA,UAAMG,UAAU,GAAGpC,YAAY,CAACC,MAAb,GAAsBC,cAAzC;AACA,UAAMmC,YAAY,GAAGrC,YAAY,CAACC,MAAlC;AAEA,UAAMqC,eAAe,GAAG;AACpBC,MAAAA,KAAK,EAAE,MADa;AAEpBC,MAAAA,MAAM,EAAE,mBAFY;AAGpBC,MAAAA,KAAK,EAAE,SAHa;AAIpBC,MAAAA,SAAS,EAAE,QAJS;AAKpBC,MAAAA,UAAU,EAAE;AALQ,KAAxB;AAQA,UAAMC,iBAAiB,GAAG;AACtBC,MAAAA,KAAK,EAAE,MADe;AAEtBN,MAAAA,KAAK,EAAE,OAFe;AAGtBC,MAAAA,MAAM,EAAE,mBAHc;AAItBC,MAAAA,KAAK,EAAE,SAJe;AAKtBC,MAAAA,SAAS,EAAE,QALW;AAMtBC,MAAAA,UAAU,EAAE,MANU;AAOtBG,MAAAA,OAAO,EAAE,WAPa;AAQtBC,MAAAA,UAAU,EAAE,SARU;AAStBC,MAAAA,YAAY,EAAE;AATQ,KAA1B;AAYA,UAAMC,mBAAmB,GAAG;AACxBC,MAAAA,MAAM,EAAE,QADgB;AAExBX,MAAAA,KAAK,EAAE,OAFiB;AAGxBC,MAAAA,MAAM,EAAE,mBAHgB;AAIxBC,MAAAA,KAAK,EAAE,SAJiB;AAKxBC,MAAAA,SAAS,EAAE,QALa;AAMxBC,MAAAA,UAAU,EAAE,MANY;AAOxBG,MAAAA,OAAO,EAAE,WAPe;AAQxBC,MAAAA,UAAU,EAAE,SARY;AASxBC,MAAAA,YAAY,EAAE;AATU,KAA5B;AAgBA,wBACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,6BACI;AAAK,QAAA,KAAK,EAAC,gCAAX;AAA4C,QAAA,KAAK,EAAE;AAAEG,UAAAA,UAAU,EAAE,MAAM;AAApB,SAAnD;AAAA,gCACI;AAAK,UAAA,KAAK,EAAC,aAAX;AAAA,kCACI;AAAA,oCAAI,QAAC,eAAD;AAAiB,cAAA,IAAI,EAAEtE;AAAvB;AAAA;AAAA;AAAA;AAAA,oBAAJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAK,YAAA,KAAK,EAAE;AAAE,uBAAS;AAAX,aAAZ;AAAA,mCACI;AAAO,cAAA,IAAI,EAAC,QAAZ;AAAqB,cAAA,EAAE,EAAC,QAAxB;AAAiC,cAAA,KAAK,EAAE;AAAE,gCAAgB,KAAlB;AAAyB,+BAAe,SAAxC;AAAmD,+BAAe,QAAlE;AAA4E,2BAAW;AAAvF,eAAxC;AAAwI,cAAA,IAAI,EAAC,EAA7I;AAAgJ,cAAA,WAAW,EAAC,YAA5J;AAAyK,cAAA,QAAQ,EAAE,KAAKwB;AAAxL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAOI;AAAK,UAAA,KAAK,EAAC,WAAX;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,gBAAf;AAAA,mCACI,QAAC,KAAD;AAAO,cAAA,OAAO,MAAd;AAAe,cAAA,MAAM,MAArB;AAAsB,cAAA,KAAK,MAA3B;AAA4B,cAAA,OAAO,EAAC,MAApC;AAAA,sCACI;AAAA,uCACI;AAAA,0CACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBADJ,eAQI;AAAA,0BACKL,YAAY,CAACC,MAAb,KAAwB,CAAxB,gBAA4B;AAAI,kBAAA,KAAK,EAAC,QAAV;AAAA,yCACzB;AAAI,oBAAA,OAAO,EAAC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADyB;AAAA;AAAA;AAAA;AAAA,wBAA5B,GAGGkC,cAAc,CAACiB,GAAf,CAAmB,CAACC,KAAD,EAAQ5B,KAAR,kBACf;AAAA,0CAEI;AAAA,8BAAK4B,KAAK,CAAC3B;AAAX;AAAA;AAAA;AAAA;AAAA,0BAFJ,eAGI;AAAA,8BAAK2B,KAAK,CAACC;AAAX;AAAA;AAAA;AAAA;AAAA,0BAHJ,eAII;AAAA,8BAAKD,KAAK,CAACE;AAAX;AAAA;AAAA;AAAA;AAAA,0BAJJ,eAKI;AAAA,2CACI,QAAC,IAAD;AAAM,sBAAA,SAAS,EAAC,iBAAhB;AAAkC,sBAAA,EAAE,EAAG,cAAaF,KAAK,CAACG,GAAI,EAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,0BALJ;AAAA,mBAAS/B,KAAT;AAAA;AAAA;AAAA;AAAA,wBADJ;AAJR;AAAA;AAAA;AAAA;AAAA,sBARJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAgCI;AAAK,YAAA,KAAK,EAAEmB,iBAAZ;AAAA,wCACkBjD,WADlB,UACmCyC,UADnC;AAAA;AAAA;AAAA;AAAA;AAAA,kBAhCJ,eAmCI;AAAK,YAAA,KAAK,EAAEa,mBAAZ;AAAA,2CACqBZ,YADrB;AAAA;AAAA;AAAA;AAAA;AAAA,kBAnCJ,eAsCI;AAAK,YAAA,KAAK,EAAE;AAAE,uBAAS;AAAX,aAAZ;AAAA,mCACI,QAAC,UAAD;AAAY,cAAA,IAAI,EAAC,IAAjB;AAAA,sCACI,QAAC,UAAD,CAAY,OAAZ;AAAA,wCACI,QAAC,MAAD;AAAQ,kBAAA,IAAI,EAAC,QAAb;AAAsB,kBAAA,OAAO,EAAC,cAA9B;AAA6C,kBAAA,QAAQ,EAAE1C,WAAW,KAAK,CAAhB,GAAoB,IAApB,GAA2B,KAAlF;AAAyF,kBAAA,OAAO,EAAE,KAAKF,SAAvG;AAAA,0CACI,QAAC,eAAD;AAAiB,oBAAA,IAAI,EAAEf;AAAvB;AAAA;AAAA;AAAA;AAAA,0BADJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAII,QAAC,MAAD;AAAQ,kBAAA,IAAI,EAAC,QAAb;AAAsB,kBAAA,OAAO,EAAC,cAA9B;AAA6C,kBAAA,QAAQ,EAAEiB,WAAW,KAAK,CAAhB,GAAoB,IAApB,GAA2B,KAAlF;AAAyF,kBAAA,OAAO,EAAE,KAAKC,QAAvG;AAAA,0CACI,QAAC,eAAD;AAAiB,oBAAA,IAAI,EAAEnB;AAAvB;AAAA;AAAA;AAAA;AAAA,0BADJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eASI,QAAC,WAAD;AAAa,gBAAA,KAAK,EAAE6D,eAApB;AAAqC,gBAAA,SAAS,EAAE,YAAhD;AAA8D,gBAAA,IAAI,EAAC,aAAnE;AAAiF,gBAAA,KAAK,EAAE3C,WAAxF;AAAqG,gBAAA,QAAQ,EAAE,KAAKT;AAApH;AAAA;AAAA;AAAA;AAAA,sBATJ,eAUI,QAAC,UAAD,CAAY,MAAZ;AAAA,wCACI,QAAC,MAAD;AAAQ,kBAAA,IAAI,EAAC,QAAb;AAAsB,kBAAA,OAAO,EAAC,cAA9B;AAA6C,kBAAA,QAAQ,EAAES,WAAW,KAAKyC,UAAhB,GAA6B,IAA7B,GAAoC,KAA3F;AAAkG,kBAAA,OAAO,EAAE,KAAKjC,QAAhH;AAAA,0CACI,QAAC,eAAD;AAAiB,oBAAA,IAAI,EAAExB;AAAvB;AAAA;AAAA;AAAA;AAAA,0BADJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAII,QAAC,MAAD;AAAQ,kBAAA,IAAI,EAAC,QAAb;AAAsB,kBAAA,OAAO,EAAC,cAA9B;AAA6C,kBAAA,QAAQ,EAAEgB,WAAW,KAAKyC,UAAhB,GAA6B,IAA7B,GAAoC,KAA3F;AAAkG,kBAAA,OAAO,EAAE,KAAKvC,QAAhH;AAAA,0CACI,QAAC,eAAD;AAAiB,oBAAA,IAAI,EAAEjB;AAAvB;AAAA;AAAA;AAAA;AAAA,0BADJ;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAtCJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AA0EH;;AAtN4C","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Table from 'react-bootstrap/Table';\r\nimport { InputGroup, FormControl, Button } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faStepBackward, faFastBackward, faStepForward, faFastForward, faListAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { Link } from 'react-router-dom';\r\nimport '../../App.css';\r\n\r\n\r\nexport default class LeaveList extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            leavedetails: [],\r\n            currentPage: 1,\r\n            recordsPerPage: 10,\r\n            searchResults: [],\r\n        };\r\n        this.searchRecords = this.searchRecords.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.findAllLeaves();\r\n    }\r\n    findAllLeaves() {\r\n        axios.get('http://localhost:5000/api/leave-details')\r\n            .then(res => res.data)\r\n            .then((data) => {\r\n                this.setState({\r\n                    leavedetails: data\r\n                });\r\n            });\r\n    };\r\n\r\n    changePage = event => {\r\n        this.setState({\r\n            [event.target.name]: parseInt(event.target.value)\r\n        });\r\n    };\r\n    firstPage = () => {\r\n        if (this.state.currentPage > 1) {\r\n            this.setState({\r\n                currentPage: 1\r\n            });\r\n        }\r\n    };\r\n    prevPage = () => {\r\n        if (this.state.currentPage > 1) {\r\n            this.setState({\r\n                currentPage: this.state.currentPage - 1\r\n            });\r\n        }\r\n    };\r\n    lastPage = () => {\r\n        if (this.state.currentPage < Math.ceil(this.state.leavedetails.length / this.state.recordsPerPage)) {\r\n            this.setState({\r\n                currentPage: Math.ceil(this.state.leavedetails.length / this.state.recordsPerPage)\r\n            });\r\n        }\r\n    };\r\n    nextPage = () => {\r\n        if (this.state.currentPage < Math.ceil(this.state.leavedetails.length / this.state.recordsPerPage)) {\r\n            this.setState({\r\n                currentPage: this.state.currentPage + 1\r\n            });\r\n        }\r\n    };\r\n    searchRecords(e) {\r\n        let item = e.target.value;\r\n        var itemArray = [];\r\n        if (item.length >= 0) {\r\n            axios.get('http://localhost:5000/api/leave-details')\r\n                .then(response => response.data)\r\n                .then((data) => {\r\n                    this.setState({ searchResults: data });\r\n                });\r\n            if (this.state.searchResults) {\r\n                this.state.searchResults.filter(function (row) {\r\n                    var startElm, endElm, midElm;\r\n                    let newRow = Object.assign({}, row);\r\n                    if (newRow) {\r\n\r\n                        var index = newRow.refno.toUpperCase().search(item.toUpperCase())\r\n                        if (index > -1) {\r\n                            if (index == 0) {\r\n                                startElm = \"\";\r\n                                midElm = newRow.refno.slice(index, index + item.length);\r\n                                endElm = newRow.refno.slice(index + item.length);\r\n                            } else {\r\n                                startElm = newRow.refno.slice(0, index + item.length);\r\n                                midElm = newRow.refno.slice(index, index + item.length);\r\n                                endElm = newRow.refno.slice(index + item.length);\r\n                            }\r\n                            newRow.refno = <p>{startElm}<span style={{ backgroundColor: \"#17A2B8\" }}>{midElm}</span>{endElm}</p>\r\n                            itemArray.push(newRow);\r\n                        }\r\n                    }\r\n                });\r\n                this.setState({ leavedetails: itemArray })\r\n            }\r\n        }\r\n    }\r\n \r\n\r\n    render() {\r\n        const { leavedetails, currentPage, recordsPerPage } = this.state;\r\n        const lastIndex = currentPage * recordsPerPage;\r\n        const firstIndex = lastIndex - recordsPerPage;\r\n        const currentRecords = leavedetails.slice(firstIndex, lastIndex);\r\n        const totalPages = leavedetails.length / recordsPerPage;\r\n        const totalRecords = leavedetails.length;\r\n\r\n        const selectedPageCss = {\r\n            width: \"45px\",\r\n            border: \"1px solid #FFFFFF\",\r\n            color: \"#FFFFFF\",\r\n            textAlign: \"center\",\r\n            fontWeight: \"bold\"\r\n        };\r\n\r\n        const pageCountLabelCss = {\r\n            float: \"left\",\r\n            width: \"250px\",\r\n            border: \"1px solid #FFFFFF\",\r\n            color: \"#FFFFFF\",\r\n            textAlign: \"center\",\r\n            fontWeight: \"bold\",\r\n            padding: \"10px 10px\",\r\n            background: \"#17A2B8\",\r\n            borderRadius: \"7px\"\r\n        };\r\n\r\n        const recordCountLabelCss = {\r\n            margin: \"0 auto\",\r\n            width: \"200px\",\r\n            border: \"1px solid #FFFFFF\",\r\n            color: \"#FFFFFF\",\r\n            textAlign: \"center\",\r\n            fontWeight: \"bold\",\r\n            padding: \"10px 10px\",\r\n            background: \"#17A2B8\",\r\n            borderRadius: \"7px\"\r\n        };\r\n\r\n\r\n\r\n\r\n\r\n        return (\r\n            <div className=\"leave\">\r\n                <div class=\"card text-light  bg-dark  mb-3\" style={{ marginLeft: 8.5 + 'rem' }} >\r\n                    <div class=\"card-header\">\r\n                        <h3><FontAwesomeIcon icon={faListAlt} /> Leave List</h3>\r\n                        <div style={{ \"float\": \"right\" }}>\r\n                            <input type=\"search\" id=\"search\" style={{ \"borderRadius\": \"7px\", \"borderColor\": \"#17A2B8\", \"borderWidth\": \"medium\", \"padding\": \"5px\" }} name=\"\" placeholder=\"Search....\" onChange={this.searchRecords} />\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body\" >\r\n                        <div className=\"table-wrapper \">\r\n                            <Table striped border hover variant=\"dark\">\r\n                                <thead >\r\n                                    <tr>\r\n                                        <th>Ref no</th>\r\n                                        <th>Reason for Leave</th>\r\n                                        <th>Date</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody >\r\n                                    {leavedetails.length === 0 ? <tr align=\"center\">\r\n                                        <td colSpan=\"6\">No Leaves Available</td>\r\n                                    </tr> :\r\n                                        currentRecords.map((leave, index) => (\r\n                                            <tr key={index}>\r\n                                                \r\n                                                <td>{leave.refno}</td>\r\n                                                <td>{leave.reasonforleave}</td>\r\n                                                <td>{leave.date}</td>\r\n                                                <td>\r\n                                                    <Link className=\"btn btn-primary\" to={`/EditLeave/${leave._id}`}>View</Link>\r\n                                                </td>\r\n                                                {/* <td>\r\n                                                    <Link className=\"btn btn-danger\" onClick={this.deleteComplain.bind(this, complain._id)}>Delete</Link>\r\n                                                </td> */}\r\n                                            </tr>\r\n                                        ))\r\n                                    }\r\n                                </tbody>\r\n                            </Table>\r\n                        </div>\r\n                        <div style={pageCountLabelCss}>\r\n                            Showing Page {currentPage} of {totalPages}\r\n                        </div>\r\n                        <div style={recordCountLabelCss}>\r\n                            Total Records : {totalRecords}\r\n                        </div>\r\n                        <div style={{ \"float\": \"right\" }}>\r\n                            <InputGroup size=\"sm\">\r\n                                <InputGroup.Prepend>\r\n                                    <Button type=\"button\" variant=\"outline-info\" disabled={currentPage === 1 ? true : false} onClick={this.firstPage}>\r\n                                        <FontAwesomeIcon icon={faFastBackward} /> First\r\n                                    </Button>\r\n                                    <Button type=\"button\" variant=\"outline-info\" disabled={currentPage === 1 ? true : false} onClick={this.prevPage}>\r\n                                        <FontAwesomeIcon icon={faStepBackward} /> Prev\r\n                                    </Button>\r\n                                </InputGroup.Prepend>\r\n                                <FormControl style={selectedPageCss} className={\"bg-primary\"} name=\"currentPage\" value={currentPage} onChange={this.changePage} />\r\n                                <InputGroup.Append>\r\n                                    <Button type=\"button\" variant=\"outline-info\" disabled={currentPage === totalPages ? true : false} onClick={this.nextPage}>\r\n                                        <FontAwesomeIcon icon={faStepForward} /> Next\r\n                                    </Button>\r\n                                    <Button type=\"button\" variant=\"outline-info\" disabled={currentPage === totalPages ? true : false} onClick={this.lastPage}>\r\n                                        <FontAwesomeIcon icon={faFastForward} /> Last\r\n                                    </Button>\r\n                                </InputGroup.Append>\r\n                            </InputGroup>\r\n                        </div>\r\n                    </div >\r\n                </div >\r\n            </div>\r\n\r\n        )\r\n\r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}