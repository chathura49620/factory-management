{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thero\\\\OneDrive\\\\Documents\\\\factory-management\\\\factory-management\\\\factory-managment-frontend\\\\src\\\\components\\\\storeManagerComponents\\\\formprofileedit.jsx\";\nimport React, { Component } from \"react\";\nimport FormSuper from \"./common/formsuper\";\nimport Joi, { join } from \"joi-browser\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport Radio from \"./common/radio\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass FormProfileEdit extends FormSuper {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        _id: \"\",\n        FullName: \"\",\n        BirthDate: \"\",\n        Email: \"\",\n        Contact: \"\",\n        Age: \"\",\n        Gender: \"\",\n        Address: \"\",\n        Designation: \"\",\n        BankName: \"\",\n        AccountNumber: \"\",\n        Branch: \"\",\n        BranchCode: \"\",\n        NumberOfFamilyMembers: \"\"\n      },\n      errors: {}\n    };\n    this.schema = {\n      _id: Joi.string(),\n      FullName: Joi.string().required(),\n      BirthDate: Joi.date().required(),\n      Email: Joi.string().required().email(),\n      Contact: Joi.string().required(),\n      Age: Joi.number().required(),\n      Gender: Joi.string().required(),\n      Address: Joi.string().required(),\n      Designation: Joi.string().required(),\n      BankName: Joi.string().required(),\n      AccountNumber: Joi.string().required(),\n      Branch: Joi.string().required(),\n      BranchCode: Joi.string().required(),\n      NumberOfFamilyMembers: Joi.number().required()\n    };\n\n    this.handleGenderChange = ({\n      currentTarget\n    }) => {\n      const data = { ...this.state.data\n      };\n      data[currentTarget.name] = currentTarget.value;\n      this.setState({\n        data: data\n      });\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.props.userOb.fullName);\n    const user = this.props.userOb;\n    this.setState({\n      data: user\n    });\n  }\n\n  doSubmit() {\n    // console.log(\"submitted\", this.state.data);\n    const jsonOb = this.state.data;\n    console.log(\"submitted\", jsonOb);\n    axios.post(\"http://localhost:5000/users/update/\" + jsonOb._id, jsonOb).then(result => console.log(result.data));\n    swal({\n      text: \"Profile updated successfully.\",\n      icon: \"success\",\n      timer: \"1500\"\n    });\n    this.props.onSetAndClose(jsonOb); //axios\n    //  .post(\"http://localhost:5000/items/add/record\", jsonOb)\n    // .then((result) => console.log(result.data));\n    //this.props.history.push(\"/items\");\n    // window.location = \"/myprofile\";\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [this.renderInput(\"FullName\", \"Full Name\"), this.renderInput(\"BirthDate\", \"Birth date\", \"date\"), this.renderInput(\"Email\", \"Email\"), this.renderInput(\"Contact\", \"Contact Number\"), this.renderInput(\"Age\", \"Age\"), /*#__PURE__*/_jsxDEV(Radio, {\n          rValue: this.state.data[\"Gender\"],\n          onChange: this.handleGenderChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), this.renderInput(\"Address\", \"Address\"), this.renderInput(\"Designation\", \"Designation\"), this.renderInput(\"BankName\", \"Bank name\"), this.renderInput(\"AccountNumber\", \"Account Number\"), this.renderInput(\"Branch\", \"Branch\"), this.renderInput(\"BranchCode\", \"Branch Code\"), this.renderInput(\"NumberOfFamilyMembers\", \"Number of family\"), this.renderButton(\"Edit Profile\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default FormProfileEdit;","map":{"version":3,"sources":["C:/Users/thero/OneDrive/Documents/factory-management/factory-management/factory-managment-frontend/src/components/storeManagerComponents/formprofileedit.jsx"],"names":["React","Component","FormSuper","Joi","join","axios","swal","Radio","FormProfileEdit","state","data","_id","FullName","BirthDate","Email","Contact","Age","Gender","Address","Designation","BankName","AccountNumber","Branch","BranchCode","NumberOfFamilyMembers","errors","schema","string","required","date","email","number","handleGenderChange","currentTarget","name","value","setState","componentDidMount","console","log","props","userOb","fullName","user","doSubmit","jsonOb","post","then","result","text","icon","timer","onSetAndClose","render","handleSubmit","renderInput","renderButton"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport FormSuper from \"./common/formsuper\";\r\nimport Joi, { join } from \"joi-browser\";\r\nimport axios from \"axios\";\r\nimport swal from \"sweetalert\";\r\nimport Radio from \"./common/radio\";\r\n\r\nclass FormProfileEdit extends FormSuper {\r\n  state = {\r\n    data: {\r\n      _id: \"\",\r\n      FullName: \"\",\r\n      BirthDate: \"\",\r\n      Email: \"\",\r\n      Contact: \"\",\r\n      Age: \"\",\r\n      Gender: \"\",\r\n      Address: \"\",\r\n      Designation: \"\",\r\n      BankName: \"\",\r\n      AccountNumber: \"\",\r\n      Branch: \"\",\r\n      BranchCode: \"\",\r\n      NumberOfFamilyMembers: \"\",\r\n    },\r\n\r\n    errors: {},\r\n  };\r\n\r\n  schema = {\r\n    _id: Joi.string(),\r\n    FullName: Joi.string().required(),\r\n    BirthDate: Joi.date().required(),\r\n    Email: Joi.string().required().email(),\r\n    Contact: Joi.string().required(),\r\n    Age: Joi.number().required(),\r\n    Gender: Joi.string().required(),\r\n    Address: Joi.string().required(),\r\n    Designation: Joi.string().required(),\r\n    BankName: Joi.string().required(),\r\n    AccountNumber: Joi.string().required(),\r\n    Branch: Joi.string().required(),\r\n    BranchCode: Joi.string().required(),\r\n    NumberOfFamilyMembers: Joi.number().required(),\r\n  };\r\n\r\n  componentDidMount() {\r\n    console.log(this.props.userOb.fullName);\r\n    const user = this.props.userOb;\r\n\r\n    this.setState({ data: user });\r\n  }\r\n\r\n  doSubmit() {\r\n    // console.log(\"submitted\", this.state.data);\r\n    const jsonOb = this.state.data;\r\n\r\n    console.log(\"submitted\", jsonOb);\r\n    axios\r\n      .post(\"http://localhost:5000/users/update/\" + jsonOb._id, jsonOb)\r\n      .then((result) => console.log(result.data));\r\n\r\n    swal({\r\n      text: \"Profile updated successfully.\",\r\n      icon: \"success\",\r\n      timer: \"1500\",\r\n    });\r\n\r\n    this.props.onSetAndClose(jsonOb);\r\n    //axios\r\n    //  .post(\"http://localhost:5000/items/add/record\", jsonOb)\r\n    // .then((result) => console.log(result.data));\r\n\r\n    //this.props.history.push(\"/items\");\r\n    // window.location = \"/myprofile\";\r\n  }\r\n\r\n  handleGenderChange = ({ currentTarget }) => {\r\n    const data = { ...this.state.data };\r\n    data[currentTarget.name] = currentTarget.value;\r\n\r\n    this.setState({ data: data });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <form onSubmit={this.handleSubmit}>\r\n          {this.renderInput(\"FullName\", \"Full Name\")}\r\n          {this.renderInput(\"BirthDate\", \"Birth date\", \"date\")}\r\n          {this.renderInput(\"Email\", \"Email\")}\r\n          {this.renderInput(\"Contact\", \"Contact Number\")}\r\n          {this.renderInput(\"Age\", \"Age\")}\r\n          <Radio\r\n            rValue={this.state.data[\"Gender\"]}\r\n            onChange={this.handleGenderChange}\r\n          />\r\n          {this.renderInput(\"Address\", \"Address\")}\r\n          {this.renderInput(\"Designation\", \"Designation\")}\r\n          {this.renderInput(\"BankName\", \"Bank name\")}\r\n          {this.renderInput(\"AccountNumber\", \"Account Number\")}\r\n          {this.renderInput(\"Branch\", \"Branch\")}\r\n          {this.renderInput(\"BranchCode\", \"Branch Code\")}\r\n          {this.renderInput(\"NumberOfFamilyMembers\", \"Number of family\")}\r\n\r\n          {this.renderButton(\"Edit Profile\")}\r\n        </form>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FormProfileEdit;\r\n"]},"metadata":{},"sourceType":"module"}