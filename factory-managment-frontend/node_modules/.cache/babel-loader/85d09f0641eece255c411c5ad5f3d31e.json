{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n} // Copyright (c) 2016 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\nimport React from 'react';\nimport window from 'global/window';\nimport XYPlot from './plot/xy-plot';\nimport { getDOMNode } from './utils/react-utils';\nvar CONTAINER_REF = 'container'; // As a performance enhancement, we want to only listen once\n\nvar resizeSubscribers = [];\nvar DEBOUNCE_DURATION = 100;\nvar timeoutId = null;\n/**\r\n * Calls each subscriber, debounced to the\r\n */\n\nfunction debounceEmitResize() {\n  window.clearTimeout(timeoutId);\n  timeoutId = window.setTimeout(emitResize, DEBOUNCE_DURATION);\n}\n/**\r\n * Calls each subscriber once syncronously.\r\n */\n\n\nfunction emitResize() {\n  resizeSubscribers.forEach(function (cb) {\n    return cb();\n  });\n}\n/**\r\n * Add the given callback to the list of subscribers to be caled when the\r\n * window resizes. Returns a function that, when called, removes the given\r\n * callback from the list of subscribers. This function is also resposible for\r\n * adding and removing the resize listener on `window`.\r\n *\r\n * @param {Function} cb - Subscriber callback function\r\n * @returns {Function} Unsubscribe function\r\n */\n\n\nfunction subscribeToDebouncedResize(cb) {\n  resizeSubscribers.push(cb); // if we go from zero to one Flexible components instances, add the listener\n\n  if (resizeSubscribers.length === 1) {\n    window.addEventListener('resize', debounceEmitResize);\n  }\n\n  return function unsubscribe() {\n    removeSubscriber(cb); // if we have no Flexible components, remove the listener\n\n    if (resizeSubscribers.length === 0) {\n      window.clearTimeout(timeoutId);\n      window.removeEventListener('resize', debounceEmitResize);\n    }\n  };\n}\n/**\r\n * Helper for removing the given callback from the list of subscribers.\r\n *\r\n * @param {Function} cb - Subscriber callback function\r\n */\n\n\nfunction removeSubscriber(cb) {\n  var index = resizeSubscribers.indexOf(cb);\n\n  if (index > -1) {\n    resizeSubscribers.splice(index, 1);\n  }\n}\n/**\r\n * Helper for getting a display name for the child component\r\n * @param {*} Component React class for the child component.\r\n * @returns {String} The child components name\r\n */\n\n\nfunction getDisplayName(Component) {\n  return Component.displayName || Component.name || 'Component';\n}\n/**\r\n * Add the ability to stretch the visualization on window resize.\r\n * @param {*} Component React class for the child component.\r\n * @returns {*} Flexible component.\r\n */\n\n\nfunction makeFlexible(Component, isWidthFlexible, isHeightFlexible) {\n  var ResultClass = function (_React$Component) {\n    _inherits(ResultClass, _React$Component);\n\n    _createClass(ResultClass, null, [{\n      key: 'propTypes',\n      get: function get() {\n        var _Component$propTypes = Component.propTypes,\n            height = _Component$propTypes.height,\n            width = _Component$propTypes.width,\n            otherPropTypes = _objectWithoutProperties(_Component$propTypes, ['height', 'width']); // eslint-disable-line no-unused-vars\n\n\n        return otherPropTypes;\n      }\n    }]);\n\n    function ResultClass(props) {\n      _classCallCheck(this, ResultClass);\n\n      var _this = _possibleConstructorReturn(this, (ResultClass.__proto__ || Object.getPrototypeOf(ResultClass)).call(this, props));\n\n      _this._onResize = function () {\n        var containerElement = getDOMNode(_this[CONTAINER_REF]);\n        var offsetHeight = containerElement.offsetHeight,\n            offsetWidth = containerElement.offsetWidth;\n        var newHeight = _this.state.height === offsetHeight ? {} : {\n          height: offsetHeight\n        };\n        var newWidth = _this.state.width === offsetWidth ? {} : {\n          width: offsetWidth\n        };\n\n        _this.setState(_extends({}, newHeight, newWidth));\n      };\n\n      _this.state = {\n        height: 0,\n        width: 0\n      };\n      return _this;\n    }\n    /**\r\n     * Get the width of the container and assign the width.\r\n     * @private\r\n     */\n\n\n    _createClass(ResultClass, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this._onResize();\n\n        this.cancelSubscription = subscribeToDebouncedResize(this._onResize);\n      }\n    }, {\n      key: 'componentWillReceiveProps',\n      value: function componentWillReceiveProps() {\n        this._onResize();\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        this.cancelSubscription();\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        var _this2 = this;\n\n        var _state = this.state,\n            height = _state.height,\n            width = _state.width;\n\n        var props = _extends({}, this.props, {\n          animation: height === 0 && width === 0 ? null : this.props.animation\n        });\n\n        var updatedDimensions = _extends({}, isHeightFlexible ? {\n          height: height\n        } : {}, isWidthFlexible ? {\n          width: width\n        } : {});\n\n        return React.createElement('div', {\n          ref: function ref(_ref) {\n            return _this2[CONTAINER_REF] = _ref;\n          },\n          style: {\n            width: '100%',\n            height: '100%'\n          }\n        }, React.createElement(Component, _extends({}, updatedDimensions, props)));\n      }\n    }]);\n\n    return ResultClass;\n  }(React.Component);\n\n  ResultClass.displayName = 'Flexible' + getDisplayName(Component);\n  return ResultClass;\n}\n\nexport function makeHeightFlexible(component) {\n  return makeFlexible(component, false, true);\n}\nexport function makeVisFlexible(component) {\n  return makeFlexible(component, true, true);\n}\nexport function makeWidthFlexible(component) {\n  return makeFlexible(component, true, false);\n}\nexport var FlexibleWidthXYPlot = makeWidthFlexible(XYPlot);\nexport var FlexibleHeightXYPlot = makeHeightFlexible(XYPlot);\nexport var FlexibleXYPlot = makeVisFlexible(XYPlot);","map":{"version":3,"sources":["C:/Users/thero/OneDrive/Documents/factory-management/factory-management/factory-managment-frontend/node_modules/react-vis/es/make-vis-flexible.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_objectWithoutProperties","obj","keys","indexOf","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","React","window","XYPlot","getDOMNode","CONTAINER_REF","resizeSubscribers","DEBOUNCE_DURATION","timeoutId","debounceEmitResize","clearTimeout","setTimeout","emitResize","forEach","cb","subscribeToDebouncedResize","push","addEventListener","unsubscribe","removeSubscriber","removeEventListener","index","splice","getDisplayName","Component","displayName","name","makeFlexible","isWidthFlexible","isHeightFlexible","ResultClass","_React$Component","get","_Component$propTypes","propTypes","height","width","otherPropTypes","_this","getPrototypeOf","_onResize","containerElement","offsetHeight","offsetWidth","newHeight","state","newWidth","setState","componentDidMount","cancelSubscription","componentWillReceiveProps","componentWillUnmount","render","_this2","_state","animation","updatedDimensions","createElement","ref","_ref","style","makeHeightFlexible","component","makeVisFlexible","makeWidthFlexible","FlexibleWidthXYPlot","FlexibleHeightXYPlot","FlexibleXYPlot"],"mappings":"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","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\n// Copyright (c) 2016 - 2017 Uber Technologies, Inc.\r\n//\r\n// Permission is hereby granted, free of charge, to any person obtaining a copy\r\n// of this software and associated documentation files (the \"Software\"), to deal\r\n// in the Software without restriction, including without limitation the rights\r\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n// copies of the Software, and to permit persons to whom the Software is\r\n// furnished to do so, subject to the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be included in\r\n// all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n// THE SOFTWARE.\r\n\r\nimport React from 'react';\r\nimport window from 'global/window';\r\n\r\nimport XYPlot from './plot/xy-plot';\r\nimport { getDOMNode } from './utils/react-utils';\r\n\r\nvar CONTAINER_REF = 'container';\r\n\r\n// As a performance enhancement, we want to only listen once\r\nvar resizeSubscribers = [];\r\nvar DEBOUNCE_DURATION = 100;\r\nvar timeoutId = null;\r\n\r\n/**\r\n * Calls each subscriber, debounced to the\r\n */\r\nfunction debounceEmitResize() {\r\n  window.clearTimeout(timeoutId);\r\n  timeoutId = window.setTimeout(emitResize, DEBOUNCE_DURATION);\r\n}\r\n\r\n/**\r\n * Calls each subscriber once syncronously.\r\n */\r\nfunction emitResize() {\r\n  resizeSubscribers.forEach(function (cb) {\r\n    return cb();\r\n  });\r\n}\r\n\r\n/**\r\n * Add the given callback to the list of subscribers to be caled when the\r\n * window resizes. Returns a function that, when called, removes the given\r\n * callback from the list of subscribers. This function is also resposible for\r\n * adding and removing the resize listener on `window`.\r\n *\r\n * @param {Function} cb - Subscriber callback function\r\n * @returns {Function} Unsubscribe function\r\n */\r\nfunction subscribeToDebouncedResize(cb) {\r\n  resizeSubscribers.push(cb);\r\n\r\n  // if we go from zero to one Flexible components instances, add the listener\r\n  if (resizeSubscribers.length === 1) {\r\n    window.addEventListener('resize', debounceEmitResize);\r\n  }\r\n  return function unsubscribe() {\r\n    removeSubscriber(cb);\r\n\r\n    // if we have no Flexible components, remove the listener\r\n    if (resizeSubscribers.length === 0) {\r\n      window.clearTimeout(timeoutId);\r\n      window.removeEventListener('resize', debounceEmitResize);\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Helper for removing the given callback from the list of subscribers.\r\n *\r\n * @param {Function} cb - Subscriber callback function\r\n */\r\nfunction removeSubscriber(cb) {\r\n  var index = resizeSubscribers.indexOf(cb);\r\n  if (index > -1) {\r\n    resizeSubscribers.splice(index, 1);\r\n  }\r\n}\r\n\r\n/**\r\n * Helper for getting a display name for the child component\r\n * @param {*} Component React class for the child component.\r\n * @returns {String} The child components name\r\n */\r\nfunction getDisplayName(Component) {\r\n  return Component.displayName || Component.name || 'Component';\r\n}\r\n\r\n/**\r\n * Add the ability to stretch the visualization on window resize.\r\n * @param {*} Component React class for the child component.\r\n * @returns {*} Flexible component.\r\n */\r\n\r\nfunction makeFlexible(Component, isWidthFlexible, isHeightFlexible) {\r\n  var ResultClass = function (_React$Component) {\r\n    _inherits(ResultClass, _React$Component);\r\n\r\n    _createClass(ResultClass, null, [{\r\n      key: 'propTypes',\r\n      get: function get() {\r\n        var _Component$propTypes = Component.propTypes,\r\n            height = _Component$propTypes.height,\r\n            width = _Component$propTypes.width,\r\n            otherPropTypes = _objectWithoutProperties(_Component$propTypes, ['height', 'width']); // eslint-disable-line no-unused-vars\r\n\r\n\r\n        return otherPropTypes;\r\n      }\r\n    }]);\r\n\r\n    function ResultClass(props) {\r\n      _classCallCheck(this, ResultClass);\r\n\r\n      var _this = _possibleConstructorReturn(this, (ResultClass.__proto__ || Object.getPrototypeOf(ResultClass)).call(this, props));\r\n\r\n      _this._onResize = function () {\r\n        var containerElement = getDOMNode(_this[CONTAINER_REF]);\r\n        var offsetHeight = containerElement.offsetHeight,\r\n            offsetWidth = containerElement.offsetWidth;\r\n\r\n\r\n        var newHeight = _this.state.height === offsetHeight ? {} : { height: offsetHeight };\r\n\r\n        var newWidth = _this.state.width === offsetWidth ? {} : { width: offsetWidth };\r\n\r\n        _this.setState(_extends({}, newHeight, newWidth));\r\n      };\r\n\r\n      _this.state = {\r\n        height: 0,\r\n        width: 0\r\n      };\r\n      return _this;\r\n    }\r\n\r\n    /**\r\n     * Get the width of the container and assign the width.\r\n     * @private\r\n     */\r\n\r\n\r\n    _createClass(ResultClass, [{\r\n      key: 'componentDidMount',\r\n      value: function componentDidMount() {\r\n        this._onResize();\r\n        this.cancelSubscription = subscribeToDebouncedResize(this._onResize);\r\n      }\r\n    }, {\r\n      key: 'componentWillReceiveProps',\r\n      value: function componentWillReceiveProps() {\r\n        this._onResize();\r\n      }\r\n    }, {\r\n      key: 'componentWillUnmount',\r\n      value: function componentWillUnmount() {\r\n        this.cancelSubscription();\r\n      }\r\n    }, {\r\n      key: 'render',\r\n      value: function render() {\r\n        var _this2 = this;\r\n\r\n        var _state = this.state,\r\n            height = _state.height,\r\n            width = _state.width;\r\n\r\n        var props = _extends({}, this.props, {\r\n          animation: height === 0 && width === 0 ? null : this.props.animation\r\n        });\r\n\r\n        var updatedDimensions = _extends({}, isHeightFlexible ? { height: height } : {}, isWidthFlexible ? { width: width } : {});\r\n\r\n        return React.createElement(\r\n          'div',\r\n          {\r\n            ref: function ref(_ref) {\r\n              return _this2[CONTAINER_REF] = _ref;\r\n            },\r\n            style: { width: '100%', height: '100%' }\r\n          },\r\n          React.createElement(Component, _extends({}, updatedDimensions, props))\r\n        );\r\n      }\r\n    }]);\r\n\r\n    return ResultClass;\r\n  }(React.Component);\r\n\r\n  ResultClass.displayName = 'Flexible' + getDisplayName(Component);\r\n\r\n  return ResultClass;\r\n}\r\n\r\nexport function makeHeightFlexible(component) {\r\n  return makeFlexible(component, false, true);\r\n}\r\n\r\nexport function makeVisFlexible(component) {\r\n  return makeFlexible(component, true, true);\r\n}\r\n\r\nexport function makeWidthFlexible(component) {\r\n  return makeFlexible(component, true, false);\r\n}\r\n\r\nexport var FlexibleWidthXYPlot = makeWidthFlexible(XYPlot);\r\nexport var FlexibleHeightXYPlot = makeHeightFlexible(XYPlot);\r\nexport var FlexibleXYPlot = makeVisFlexible(XYPlot);"]},"metadata":{},"sourceType":"module"}